<link rel="import" href="../../../../bower_components/polymer/polymer.html">
<!--<link rel="import" href="../../../../bower_components/iron-icon/iron-icon.html">-->
<!--<link rel="import" href="../../../../bower_components/paper-icon-button/paper-icon-button.html">-->
<link rel="import" href="../app-options-menu/app-options-menu.html">

<dom-module id="app-header">
  <!-- Defines the element's style and local DOM -->
  <!-- <link rel="stylesheet" type="text/css" href="app-header.css"> -->
  <template>
    <header class="header">
      <content select=".sidenav-button"></content>
      <!--<paper-icon-button role="tab" class="header__menu js-toggle-menu" on-click="handleMenuClick">
        Toggle nav menu
      </paper-icon-button>-->
      <h1 class="header__title">[[title]]</h1>
      <!--<paper-icon-button role="tab" class="header__options js-toggle-options" on-click="handleOptionsClick">
        Toggle options menu
      </paper-icon-button>-->
      <app-options-menu></app-options-menu>
    </header>

  </template>

  <!-- Creates the element's prototype and registers it -->
  <script>
    Polymer({
      is: 'app-header',

      properties: {
        // title displayed in the header
        title: {
          type: String,
          refectToAttribute: true
        }
      },

      ready: function() {
        this.options = this.querySelector('app-options');

        this.handleMenuClick = this.handleMenuClick.bind(this);
        this.handleOptionsClick = this.handleOptionsClick.bind(this);
      },

      /**
      * Handles the side navigation button click.
      * Dispatches a custom open-nav event, which should open the side-nav
      **/
      handleMenuClick : function(e) {
        document.dispatchEvent(new Event('open-nav'));
      },

      /**
      * Handles the options button click.
      * Sets the opened attribute on the app-options element
      **/
      handleOptionsClick : function(e) {
        this.options.setAttribute('opened', 'true');
      }
    });
  </script>
</dom-module>